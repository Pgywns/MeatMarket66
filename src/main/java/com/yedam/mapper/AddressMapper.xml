<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.mapper.AddressMapper">

<insert id="insertAdd" parameterType="Address">
	insert into tbl_addr (addr_no, user_id, zip_code, addr_one, addr_two, addr_name, first_addr)
	values (addr_seq.nextval, #{userId}, #{zipCode}, #{addrOne}, #{addrTwo}, #{addrName}, #{firstAddr})
</insert>

<!-- 주소 조회 -->
<select id="selectAddress" parameterType="String" resultType="Address">
	select addr_no,
	       user_id,
	       zip_code,
	       addr_one,
	       addr_two,
	       addr_name,
	       first_addr
	from   tbl_addr
	where  user_id = #{userId}
</select>

<!-- 기본배송지 true인지 false인지 조회 -->
<select id="firstAddrSelect" parameterType="String" resultType="String">
	select first_addr
	from   tbl_addr
	where  user_id = #{userId}
</select>

<!-- 주소 삭제 -->
<delete id="deleteAddress" parameterType="Address">
	delete
	from   tbl_addr
	where  user_id = #{userId}
	  and  addr_no = #{addrNo}
</delete>
</mapper>